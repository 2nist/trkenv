output_root: "./output"

recording:
  mode: "yt-dlp"  # yt-dlp | streamlink
  audio_format: "wav"  # wav | flac | mp3
  sample_rate: 44100
  channels: 2

splitting:
  enabled: true
  silence_threshold_db: -35
  min_silence_dur_sec: 1.5
  min_track_len_sec: 30

stems:
  enabled: true
  engine: "demucs"
  model: "htdemucs"

midi:
  enabled: true
  targets: ["vocals", "other", "mix"]

chords:
  enabled: true
  transpose_semitones: 2
  glob: "**/*.jcrd.json"

identify:
  enabled: true
  use_beets: false

organize:
  pattern: "{artist}/{album}/{tracknum:02d} - {title}"
  copy_original: true
  copy_stems: true
  copy_midi: true
  copy_chords: true

asr:
  model_size: "large-v3"     # can set to "medium" for CPU
  compute_type: "int8"       # "float16" on GPU
  align: true                 # WhisperX forced alignment to word-level
  diarize: false              # PyAnnote diarization
  language: "en"             # blank = auto
  target_stem: "vocals"

lyrics:
  export_srt: true
  json_include_words: true
  word_conf_min: 0.0         # drop words below this conf (0-1)
  vtt_relpath: "lyrics"
  srt_relpath: "lyrics"
  json_key: "lyrics"
